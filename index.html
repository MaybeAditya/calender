<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Our Cute Calendar ğŸ’–</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>

<div id="welcomeScreen" class="welcome-screen">
  <button id="enterBtn" class="enter-btn">Tap to Open ğŸ’•</button>
</div>

<div class="bg-bubbles" id="bubbleContainer"></div>

<div class="app">
  <header class="header">
    <div class="brand">
      <div class="logo">ğŸ’•</div>
      <div>
        <h1 id="monthDisplay">Month Year <span id="editSongIcon" style="cursor: pointer; font-size: 0.8rem;" title="Change Song">âœï¸ğŸµ</span></h1>
        <p id="streakDisplay" style="color: #ff4d8d; font-weight: bold; font-size: 0.85rem; margin: 0;">ğŸ”¥ 0 Day Streak</p>
      </div>
    </div>
    <div class="controls">
      <button id="prevBtn" class="btn">â—€</button>
      <button id="nextBtn" class="btn">â–¶</button>
    </div>
  </header>

  <section class="calendarWrap">
    <div id="weekdayRow" class="grid weekdays"></div>
    <div id="calendarGrid" class="grid"></div>
  </section>

  <aside class="sidebar" style="display: flex; flex-direction: column; align-items: center; gap: 15px;">
    <div style="display: flex; gap: 15px;">
      <div class="legendItem"><span>â¤ï¸</span> Aditya</div>
      <div class="legendItem"><span>ğŸ’–</span> Vibhuti</div>
      <div class="legendItem"><span>ğŸ’</span> Both</div>
    </div>
    
    <div class="polaroid" id="polaroidFrame">
      <div class="photo-container">
        <img id="polaroidImg" src="" alt="Highlight of the week" style="display: none;">
        <div id="polaroidPlaceholder">Loading...</div>
      </div>
      <div class="polaroid-caption">Highlight of the Week âœ¨</div>
      <button id="addPhotoBtn" class="add-photo-btn">+</button>
    </div>
  </aside>
</div>

<div id="overlay" class="overlay">
  <div class="modal">
    <h3>Edit Day ğŸ’•</h3>
    <div class="toggles">
      <button id="youBtn" class="toggleBtn">â¤ï¸ Aditya</button>
      <button id="gfBtn" class="toggleBtn">ğŸ’– Vibhuti</button>
    </div>
    <textarea id="noteField" placeholder="Write something cuteâ€¦"></textarea>
    <div class="modalActions">
      <button id="closeBtn" class="btn">Close</button>
      <button id="saveModalBtn" class="btn primary">Save Changes</button>
    </div>
  </div>
</div>

<div id="photoModal" class="overlay">
  <div class="modal">
    <h3>ğŸ“¸ Add a New Memory</h3>
    <input type="file" id="photoInput" accept="image/*" style="margin: 15px 0;">
    <div class="modalActions">
      <button id="closePhotoModalBtn" class="btn">Cancel</button>
      <button id="savePhotoBtn" class="btn primary">Upload</button>
    </div>
  </div>
</div>

<div id="jarModal" class="overlay">
  <div class="modal">
    <h3 id="jarTitle">ğŸ¯ Reasons I Love You</h3>
    <p id="jarDisplay" style="font-style: italic; margin: 15px 0; min-height: 50px;">Click 'Draw a Note' to read one!</p>
    <p id="jarAuthor" style="font-size: 12px; color: var(--accent); text-align: right; margin-bottom: 15px;"></p>
    
    <textarea id="newJarNote" placeholder="Write a new reason here..." style="display: none;"></textarea>
    
    <div class="modalActions" id="jarReadActions">
      <button id="closeJarBtn" class="btn">Close</button>
      <button id="drawNoteBtn" class="btn primary">Draw a Note</button>
      <button id="showAddNoteBtn" class="btn">âœï¸ Add</button>
    </div>

    <div class="modalActions" id="jarWriteActions" style="display: none;">
      <button id="cancelJarWriteBtn" class="btn">Cancel</button>
      <button id="saveJarNoteBtn" class="btn primary">Save Reason</button>
    </div>
  </div>
</div>

<div id="songModal" class="overlay">
  <div class="modal">
    <h3>ğŸ¶ YouTube Song of the Day</h3>
    <input type="text" id="ytUrlInput" placeholder="https://www.youtube.com/watch?v=..." style="width: 100%; padding: 10px; margin: 15px 0; border-radius: 10px; border: none; background: rgba(0,0,0,0.2); color: white;">
    <div class="modalActions">
      <button id="closeSongModalBtn" class="btn">Cancel</button>
      <button id="saveSongBtn" class="btn primary">Update Song</button>
    </div>
  </div>
</div>

<button id="jarBtn" class="floatBtn jarBtn">ğŸ¯</button>
<button id="pingBtn" class="floatBtn pingBtn">ğŸ’­</button>

<div id="toast" class="toast">Thinking of you! ğŸ¥°</div>
<div id="missedPingToast" class="missed-ping-toast">
  <span id="missedPingText"></span>
  <button id="dismissPingBtn" class="dismiss-btn">â¤ï¸</button>
</div>

<div id="miniPlayer" class="mini-player">
  <iframe id="ytIframe" width="160" height="90" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

<script type="module" src="./script.js"></script>
</body>
</html>